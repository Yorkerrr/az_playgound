{app="example", connection_security_policy="mutual_tls", destination_app="example", destination_canonical_revision="blue", destination_canonical_service="example", destination_principal="spiffe://cluster.local/ns/canary/sa/default", destination_service="demo.canary.svc.cluster.local", destination_service_name="demo", destination_service_namespace="canary", destination_version="blue", destination_workload="demo", destination_workload_namespace="canary", instance="172.20.1.30:15020", istio_io_rev="default", job="kubernetes-pods", kubernetes_namespace="canary", kubernetes_pod_name="demo-7f4ccd7d9-dmtb5", pod_template_hash="7f4ccd7d9", reporter="destination", request_protocol="http", response_code="200", response_flags="-", security_istio_io_tlsMode="istio", service_istio_io_canonical_name="example", service_istio_io_canonical_revision="blue", source_app="istio-ingressgateway", source_canonical_revision="latest", source_canonical_service="istio-ingressgateway", source_principal="spiffe://cluster.local/ns/istio-system/sa/istio-ingressgateway-service-account", source_version="unknown", source_workload="istio-ingressgateway", source_workload_namespace="istio-system", version="blue"}
round(sum(irate(istio_requests_total{connection_security_policy="mutual_tls",destination_service=~"demo.canary.svc.cluster.local",reporter="source",source_workload=~"istio-ingressgateway",source_workload_namespace=~"istio-system"}[5m])) by (source_workload, source_workload_namespace, response_code), 0.001)